import{B as w,C,u as P,a as g,D as M,E as B,F as L,r as c,G as $,H as I,y as e,A as y,z as S}from"./index-CUsdTW_s.js";import{f as o}from"./currency-C9PBV6af.js";const A=()=>{const{id:x}=w(),l=C(),n=P(),s=g(M),p=g(B),i=g(L),[j,N]=c.useState(0),[r,d]=c.useState(1),[m,b]=c.useState(!1);if(c.useEffect(()=>(x&&n($(x)),()=>{n(I())}),[x,n]),c.useEffect(()=>{s&&(s!=null&&s.images)&&(N(0),d(1))},[s]),p)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(y,{size:"large",message:"Loading product details..."})});if(i)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Product"}),e.jsx("p",{className:"text-red-600 mb-4",children:i}),e.jsx("button",{onClick:()=>l("/"),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Return to Home"})]})});if(!s)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Product Not Found"}),e.jsx("button",{onClick:()=>l("/"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})});const v=()=>{!s||r<=0||(b(!0),n(S({...s,quantity:r})),setTimeout(()=>{b(!1)},500))},k=(t,a)=>t-t*a/100;if(p)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(y,{size:"large",message:"Loading product details..."})});if(i)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md mx-auto",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-red-600 mb-4",children:i}),e.jsx("button",{onClick:()=>l("/"),className:"btn-primary",children:"Back to Home"})]})});if(!s)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Product not found"}),e.jsx("button",{onClick:()=>l("/"),className:"btn-primary",children:"Back to Home"})]})});const h=s.images||[s.thumbnail],u=s.discountPercentage>0?k(s.price,s.discountPercentage):s.price;return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("nav",{className:"mb-8",children:e.jsxs("button",{onClick:()=>l("/"),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Products"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:h[j],alt:s.title,className:"w-full h-full object-cover",onError:t=>{t.target.src=s.thumbnail}})}),h.length>1&&e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:h.map((t,a)=>e.jsx("button",{onClick:()=>N(a),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 ${j===a?"border-blue-500":"border-gray-200"}`,children:e.jsx("img",{src:t,alt:`${s.title} ${a+1}`,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium uppercase tracking-wide mb-2",children:s.category}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.title}),s.brand&&e.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Brand: ",e.jsx("span",{className:"font-medium",children:s.brand})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((t,a)=>e.jsx("svg",{className:`h-5 w-5 ${a<Math.floor(s.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))}),e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:[s.rating," out of 5"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600",children:o(u)}),s.discountPercentage>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xl text-gray-500 line-through",children:o(s.price)}),e.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-md text-sm font-semibold",children:[Math.round(s.discountPercentage),"% OFF"]})]})]}),s.discountPercentage>0&&e.jsxs("p",{className:"text-green-600 font-medium",children:["You save ",o(s.price-u),"!"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.stock>10?"bg-green-100 text-green-800":s.stock>0?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s.stock>10?"bg-green-500":s.stock>0?"bg-orange-500":"bg-red-500"}`}),s.stock>10?"In Stock":s.stock>0?`Only ${s.stock} left`:"Out of Stock"]})}),e.jsxs("div",{className:"space-y-4",children:[s.stock>0&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{htmlFor:"quantity",className:"text-lg font-medium text-gray-700",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{onClick:()=>d(Math.max(1,r-1)),className:"px-3 py-2 hover:bg-gray-100",children:"-"}),e.jsx("input",{id:"quantity",type:"number",min:"1",max:s.stock,value:r,onChange:t=>d(Math.min(s.stock,Math.max(1,parseInt(t.target.value)||1))),className:"w-16 text-center py-2 border-0 focus:ring-0"}),e.jsx("button",{onClick:()=>d(Math.min(s.stock,r+1)),className:"px-3 py-2 hover:bg-gray-100",children:"+"})]})]}),e.jsx("button",{onClick:v,disabled:s.stock===0||m,className:`w-full py-3 px-6 rounded-lg text-lg font-semibold transition-all duration-200 ${s.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":m?"bg-green-500 text-white":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg"}`,children:s.stock===0?"Out of Stock":m?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding to Cart..."]}):`Add ${r} to Cart - ${o(u*r)}`})]}),e.jsx("div",{className:"border-t pt-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Weight:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:s.weight})]}),s.dimensions&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dimensions:"}),e.jsxs("span",{className:"ml-2 text-gray-600",children:[s.dimensions.width,"×",s.dimensions.height,"×",s.dimensions.depth]})]}),s.warrantyInformation&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Warranty:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:s.warrantyInformation})]}),s.shippingInformation&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Shipping:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:s.shippingInformation})]})]})})]})]}),s.reviews&&s.reviews.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),e.jsx("div",{className:"space-y-4",children:s.reviews.slice(0,3).map((t,a)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((z,f)=>e.jsx("svg",{className:`h-4 w-4 ${f<t.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},f))}),e.jsx("span",{className:"ml-2 font-medium text-gray-700",children:t.reviewerName})]}),e.jsx("p",{className:"text-gray-600",children:t.comment})]},a))})]})]})},F=()=>e.jsx(A,{});export{F as default};
